<!DOCTYPE html>
<html lang="en" >
<head>
  {% load i18n %}
  <meta charset="UTF-8">
  <title>Contrat</title>
  {% load static %}

    
  <script src="jquery-3.5.1.js"></script>
  <link rel="stylesheet" href={% static 'css/modal.css' %}>
  <link rel="stylesheet" href={% static 'css/style.css' %}>
  <link rel="stylesheet" href={% static 'css/table.css' %}>
  <link rel="stylesheet" href={% static 'css/chefdep.css' %}>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>

  <link rel="icon" type="image/png"  href={% static 'images/logo.png' %}>
  <!-- data table links -->
  <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script> <!-- ????-->
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
 
 

  <!-- search column-->
  <script src="https:../../media/js/jquery.js"></script>
  <script src="https:../../media/js/jquery.dataTables.js"></script>


<!--- export files -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.11.5/b-2.2.2/b-colvis-2.2.2/b-html5-2.2.2/b-print-2.2.2/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.11.5/b-2.2.2/b-colvis-2.2.2/b-html5-2.2.2/b-print-2.2.2/datatables.min.js"></script>

<!-- toggle columns-->
<script src="http:../../media/js/jquery.js"></script>
<script src="http:../../media/js/jquery.dataTables.js"></script>
<link rel="stylesheet" href="http:../../media/css/jquery.dataTables.css">


<link rel="stylesheet" href={% static 'css/designtable.css' %}>
<script src={% static 'js/ctablecontrat.js' %}></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<style>
    
    .de{
    color:#d42a1b; 
    margin-right: 7px;
    font-size: 18px;
  }
  .up{
    color: #e49b0f;
    margin-right: 7px;
    font-size: 17px;
  }
  .view{
    color: #488a63;
    font-size: 17px;
  }
  .bx{
    font-size:17px;
  }
  .modal {
  visibility: hidden;
  opacity: 0;
  position: absolute;
  top: 0; right: 0;
  bottom: 0; left: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(77, 77, 77, .7);
  z-index:1500;
  transition: all .4s;
  color:#00004d; font-size:12px; font-weight: 500;

}
.modal label {color:#00004d; font-size:12px; font-weight: 500; margin-right: 25px;}
.modal input , .modal select{ border-top-color: darkslategray;
  border-bottom-color: darkslategray;
  border-left-color: darkslategray;
  border-right-color: darkslategray;
  width:150px;
  height:30px;
}

.modal input[type='submit']
    {margin-bottom: 0;
     width:  150px;
     height: 40px;
     text-align: center;
     padding: 0;
     border-color: #1e90ff;
     color:#fff;font-weight: 600;
     background-color:#1e90ff;}
     input[type='submit']:hover{opacity:0.8; transition: opacity 0.1s;}
     .modal .containerform{margin-left: 10%;}

  p, li{
    display:inline;
  }
  li{
    font-weight:bold;
  }
  .modal_content {
    width: 800px;
    
  }

  .left{width:45% ; display: flex; flex-direction: row; flex-wrap: nowrap;}
      .right{width:45%; display:flex; flex-direction: row; flex-wrap: nowrap;}
      .label{display: flex; flex-direction: column;  width:40%; justify-content: space-evenly;}
      .input{display: flex; flex-direction: column;  width:60%;justify-content: space-evenly;}
      
  .modalcontrat{display:flex;}
 .modalcontrat .left .label{position:relative; top:15px} 
 .modalcontrat .right .input{position:relative; top:5px} 
 .modalcontrat .right select {position:relative; top:-28px} 
 .modalcontrat .right .label{position:relative; top:15px; margin-left: 10px; margin-bottom: 5px;}
 .modalcontrat .right input:nth-of-type(5){position:relative; left:-10px;top:-55px; margin-left: 10px; margin-bottom: 5px;}  
 .modalcontrat .right .label input:nth-of-type(1){position:relative;top:-10px; ;}  
 .modalcontrat select {margin-top:15px; border-radius: 5px;}
 .modalcontrat .right label{margin: 5px;}
 .modalcontrat .right label:nth-last-of-type(4){margin-bottom: 15px;}

 
.modaldetail{height:700px}

.modaldetail h2 {
  color:#353839;
  font-size: 30px;
  border-bottom: 1px solid #707070;
  margin-bottom: 20px;
}
.modaldetail h6{color:#353839; font-size:15px}
.modaldetail li {color:#353839; font-weight: 500;}
.modaldetail p {color:#353839; font-weight: 400;}
.titre {color:#00004d; font-size: 12px; font-weight: 800;}
.modaldetail .view{ color:#1e90ff;position:relative; top:4px}
.modaldetail a{ color:#1e90ff; margin-left: 30px;}

</style>
</head>


<body>

  <nav class="sidebar ">
    <header>
      <div class="image-text">
        <span class="image">
          <a href= "{% url 'chefdep' %}"> <img src={% static 'images/logo-removebg-preview.png' %} alt="logo"> </a>
        </span>


         <div class="text header-text">
          <span class='name'> SONATRACH </span>
        </div>
        
        
      </div>
      <i class='bx bx-menu toggle'></i>
    </header>

    <div class="menu-bar">
      <div class="menu">
       
        <ul class="menu-link">

         
        

              <div class="droppdown">
                <li class="nav-link dropbtn ">
                  <a href=" {% url "update_st" 0 %} " >
                    <i class='bx bx-file icon'></i>
                    <span class="text nav-text">Soit transmis</span>
                  </a>
                </li>
                <div class="dropdownst-content">
                  <a href=" {% url "st_create" %} "class='ast'><i class='bx bx-list-plus'></i> Ajouter </a>
                  <a href=" {% url "update_st" 0 %} "class='cst'><i class='bx bx-show-alt'></i> Consulter</a>
                </div>
              </div>
            

              
              <div class="droppdown">
                <li class="nav-link dropbtn ">
                  <a href=" {% url "update_contrat" '0' %} " style="background:whitesmoke;">
                    <i class="fa fa-files-o icon" aria-hidden="true"></i>
                    <span class="text nav-text">Contrats</span>
                  </a>
                </li>
                <div class="dropdownct-content">
                  <a href=" {% url "contrat_create" %} " class='act'><i class='bx bx-list-plus'></i> Ajouter </a>
                  <a href=" {% url "update_contrat" '0' %} " class='cct'><i class='bx bx-show-alt'></i> Consulter</a>
                </div>
              </div>
             

          <li class="nav-link down">
            <a > 
              <i class='bx bx-folder-open icon'></i>
              <span class="text nav-text">Documents <br> Contractuels <i class='bx bxs-chevron-down dropdown-btn'></i> </span>
            </a>
          </li>

          <div class="drop-down">
          <ul class="dropdown-container hide ">
           
            <div class="droppdown1 sous-menu">
              <li class="dropbtn1">
                <a href=" {% url "update_convention" '0' %} " >  -  Convention de <br> détachement</a>
              </li>
              <div class="dropdownconv-content">
                <a href=" {% url "convention_create" %} " class="a1"><i class='bx bx-list-plus'></i> Ajouter </a>
                <a href=" {% url "update_convention" '0' %} "  class="a2"><i class='bx bx-show-alt'></i> Consulter</a>
              </div>
            </div>

            <div class="droppdown2 sous-menu">
              <li class="dropbtn2">
                <a href=" {% url "update_avenant" '0' %} "> -  Avenant</a>
              </li>
              <div class="dropdownav-content ">
                <a href=" {% url "avenant_create" %} "  class="a3"><i class='bx bx-list-plus'></i> Ajouter </a>
                <a href=" {% url "update_avenant" '0' %} "  class="a4"><i class='bx bx-show-alt'></i> Consulter</a>
              </div>
            </div>

            <div class="droppdown3 sous-menu">
              <li class="dropbtn3">
                <a href=" {% url "update_lettreAccord" '0' %} " > -  Lettre accord</a>
              </li>
              <div class="dropdownla-content">
                <a href=" {% url "lettreAccord_create" %} "  class="a5"><i class='bx bx-list-plus'></i> Ajouter </a>
                <a href=" {% url "update_lettreAccord" '0' %} "  class="a6"><i class='bx bx-show-alt'></i> Consulter</a>
              </div>
            </div>

            <div class="droppdown4 sous-menu">
              <li class="dropbtn4">
                <a href=" {% url "update_accord" '0' %} "> -  Accord</a>
              </li>
              <div class="dropdownac-content">
                <a href=" {% url "accord_create" %} "  class="a7"><i class='bx bx-list-plus'></i> Ajouter </a>
                <a href=" {% url "update_accord" '0' %} "  class="a8"><i class='bx bx-show-alt'></i> Consulter</a>
              </div>
            </div>

            <div class="droppdown5 sous-menu">
              <li class=" dropbtn5">
                <a href=" {% url "update_accord" '0' %} ">-  Accord d'operation</a>
              </li>
              <div class="dropdownaop-content">
                <a href=" {% url "accordOperation_create" %} "  class="a9"><i class='bx bx-list-plus'></i> Ajouter </a>
                <a href=" {% url "update_accordOp" '0' %} "  class="a10"><i class='bx bx-show-alt'></i> Consulter</a>
              </div>
            </div>
            
          </ul>
        </div>
     

          <div class="droppdown">
            <li class="nav-link dropbtn ">
              <a href=" {% url "update_avis" '0' %} ">
                <i class="fa fa-balance-scale icon" aria-hidden="true"></i>
                <span class="text nav-text">Avis juridique</span>
              </a>
            </li>
            <div class="dropdownaj-content">
              <a href=" {% url "avisJuridique_create" %} "class='aaj'><i class='bx bx-list-plus'></i> Ajouter </a>
              <a href=" {% url "update_avis" '0' %} " class='caj'><i class='bx bx-show-alt'></i> Consulter</a>
            </div>
          </div>


          <div class="droppdown">
            <li class="nav-link dropbtn ">
              <a href=" {% url "update_pds" '0' %} ">
                <i class='bx bx-pencil icon'></i>
                <span class="text nav-text">Points de situations</span>
              </a>
            </li>
            <div class="dropdownpds-content">
              <a href=" {% url "pds_create" %} " class='apds'><i class='bx bx-list-plus'></i> Ajouter </a>
              <a href=" {% url "update_pds" '0' %} " class='cpds'><i class='bx bx-show-alt'></i> Consulter</a>
            </div>
          </div>
          <li class="nav-link navlink2">
            <a href="{% url "dashboard" %}">
              <i class="fa fa-tachometer icon" aria-hidden="true"></i>
              <span class="text nav-text">Dashboard</span>
            </a>
          </li>
          <li class="nav-link navlink2">
            <a href="{% url "view_history" %}">
             <i class='bx bx-history icon'></i>
              <span class="text nav-text">Historique</span>
            </a>
          </li>
      
      
      </div>
    </div>
  </nav>
  
      <section class="home">
        <li class="link2 hide">Soit transmis</li>
        <li class="link3 hide">Contrats</li>
        <li class="link4 hide">Documents contractuels</li>
        <li class="link5 hide">Avis juridique</li>
        <li class="link6 hide">Points de situations</li>
        <li class="link7 hide">Dashboard</li>
        <li class="link8 hide">Historique</li>
    <li class="slink1 hide">Convention de détachement</li>
    <li class="slink2 hide">Avenant</li>
    <li class="slink3 hide">Lettre accord</li>
    <li class="slink4 hide">Accord</li>
    <li class="slink5 hide">Accord d'opérations</li>
   <header>
    <h1>  <i class="fa fa-balance-scale" aria-hidden="true"></i> Gestion des contrats d'associations</h1>
    <span class="nomprenom"><i class='bx bxs-user-circle '></i> {{ request.user.first_name }} {{ request.user.last_name }} <i class='bx bxs-down-arrow ' ></i></span>
</header>
  <ul class="sous-header masquer">
    <li><a href=" {% url "logoutUser" %} "><i class='bx bx-log-out'></i>Deconnexion</li></a>
    <li><a href="{% url "password_change" %}"><i class="fa fa-cog" aria-hidden="true"></i>Paramètres</li></a>
  </ul>
    
    <div class="container">
      <h3>Contrat</h3>
      <div class="header">
        <a href="{% url 'chefdep' %}"> <i class='bx bx-home-alt icon'></i></a> / Contrat / <a href="affiche_contrat">Liste des contrats</a>    </div>
        
        
        <div class="containertable">
          <div class="columntitle">
            <i class='bx bx-columns icone2'></i> Colonnes <i class='bx bxs-chevron-down icone2'></i>
           </div>
           <div class="column hide">
            <a class="toggle-vis blue" data-column="0"> ID </a> 
            <a class="toggle-vis blue" data-column="1"> Titre   </a> 
            <a class="toggle-vis blue" data-column="2"> Loi </a> 
            <a class="toggle-vis blue" data-column="3"> Date signature </a> 
            <a class="toggle-vis blue" data-column="4"> Date fin    </a> 
            <a class="toggle-vis blue " data-column="5"> Financement SH </a> 
            <a class="toggle-vis blue" data-column="6"> Phase </a> 
            <a class="toggle-vis blue" data-column="7"> Périmetre</a> 
            <a class="toggle-vis blue" data-column="8"> Contrat </a> 
            </div>
           <table id="example" class="styled-table row-border hover" cellspacing="10px" width="100%">
        <thead>
          <tr>
            <th> ID</th>
              <th>Titre</th>
              <th>loi</th>
              <th>Date signature </th>
              <th>Date  fin contrat</th>
              <th>Financement SH</th>
              <th>Phase</th>
              <th>Opérateur</th>
              <th>Périmetre</th>
              <th>Contrat</th>
          </tr>
      </thead>
      <tbody>
        {% for c in contrat %}
        <tr>
              <td>{{c.code}}</td>
              <td><a href="http://127.0.0.1:8000/update_contrat/{{c.code}}/#detail" 
               > {{c.titre_contrat}} </a></td>
              <td>{{c.loi}}</td>
              
             <td>{% language 'fr' %}
               {{ c.date_signature_contrat|date:'d F Y' }}
              {% endlanguage %}</td>
          
             <td>{% language 'fr' %}
                {{ c.date_fin_contrat|date:'d F Y' }}
             {% endlanguage %}</td>
              <td>{{c.financement_SH}}</td>
              <td>{{c.phase_contrat}}</td>
              <td>{{c.nom_op}}</td>
              <td>{{c.nom_perimetre}}</td>
              <td>
                <a href="{{ c.contrat_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                  <i class="bx bx-show view"></i> </a>
                </td>
                
        </tr>
        {% endfor %} 
      </tbody>
      <tfoot>
          <tr>
            <th> ID</th>
            <th>Titre</th>
            <th>loi</th>
            <th>Date signature </th>
            <th>Date  fin contrat</th>
            <th>Financement SH</th>
            <th>Phase</th>
            <th>Opérateur</th>
            <th>Périmetre</th>
            <th>Contrat</th>
          </tr>
      </tfoot>
         
  </table>
  </div>
  
  

<h5><a href="{% url "update_partenaire_fdup" '0' %}">Recherche avancée<i class='bx bxs-right-arrow-alt'></i></h5></a>
  
  
  </div>
  
 
 {% comment %} apres supression et apres modification  {% endcomment %}
{% if messages %}
{% for m in messages %}
<script>
 Swal.fire({
  icon:'success',
  title: 'Félicitations!',
  text: "{{m}}",
  confirmButtonText: 'OK',
  confirmButtonColor:'blue'
})
</script>
{% endfor %}
{% endif%}

  

</section>
{% comment %} class modal update  {% endcomment %}
<div id="demo" class="modal ">
<div class="modal_content">
  <a href="#" class="modal_close">&times;</a>
  <div class="form">
    <form method="POST" enctype="multipart/form-data" id="ajouterdc" class="ceform" action="#">
      {% csrf_token %}
      <h2> Contrat</h2>
      <div class="containerform accordop modalcontrat">
      <div class="left">
        <div class="label">
          <label for="title">Titre du contrat</label> 
          <label for="loi">Signé selon la loi</label> 
          <label for="num">Numéro du décret</label>
          <label for="datede">Date du décret</label> 
          <label for="datepod">Date d'approbation du pod</label>
          <label for="datedeb">Date de début du contrat</label>
          <label for="datedeb">Date fin recherche</label>
        
        </div>
         <div class="input"> 
          <input name="titre_contrat" type="text" id="title" value="{{x.titre_contrat}}" required> 
          {{form.loi}}
          <input name="num_decret" type="number" id="num" value="{{x.num_decret}}" required> 
          {{form.date_decret}}
          {{form.date_approbation_pod}}
          {{form.date_debut_contrat}}
          {{form.date_fin_recherche}}
          
        </div>
       </div>

      <div class="right">
        <div class="label">
         
          <label for="datedeb">Date début exploitation</label>
          <label for="datefin">Date de fin du contrat</label>
          <label for="finsh">Financement Sonatrach</label>
          <label for="phase">Phase</label>
          <label for="op">Nom de l'opérateur</label>
          {{form.contrat_pdf}}
        </div>
        <div class="input">

          {{form.date_debut_exploitation}}
          <input name="date_signature_contrat" type="hidden" id="dates" value="{{x.date_signature_contrat}}" required> 
          {{form.date_fin_contrat}}
          <input name="financement_SH" type="number"  id="finsh" value="{{x.financement_SH}}" required> <br>
          {{form.phase_contrat}} <br>
          <input name="nom_op" type="text" id="op" value="{{x.nom_op}}" required> <br>
          <input name="nom_perimetre" type="hidden" id="pe" value="{{x.nom_perimetre}}" required> <br>
         
          <input type="hidden" name="contrath" value="True"  id="id_contrath">
          <input type="hidden" name="code" value="{{x.code}}"  id="id_contrath">
        </div>
       
      </div>
    </div>
    <center>
    <span class='msg' style="font-size:12px; color:red; text-align:center"> </span>
    </center>
    <div class="boutton">
      <input type="submit" value="Valider">
    </div>
    </form>
  </div>
</div>
</div>



<div id="detail" class="modal modaldetail">
  
  <div class="modal_content">
    <center> <h2> Fiche contrat</h2></center>
   
    <a href="#" class="modal_close">&times;</a>
    
              <li> ID: &emsp;</li><p>{{x.code}}</p></br>
              <li>Titre: &emsp;</li><p>{{x.titre_contrat}}</p></br>
              <li>loi: &emsp;</li> <p>{{x.loi}}</p></br>
              <li>Numéro du décret: &emsp;</li><p>{{x.num_decret}}</p></br>
              <li>Date du décret: &emsp;</li> <p>{% language 'fr' %}
                {{ x.date_decret|date:'d F Y' }}
             {% endlanguage %}</p></br>
              <li>Date approbation pod: &emsp;</li><p>{% language 'fr' %}
                {{ x.date_approbation_pod|date:'d F Y' }}
              {% endlanguage %}</p></br>
              <li>Date de signature: &emsp;</li><p>{% language 'fr' %}
               {{ x.date_signature_contrat|date:'d F Y' }}
              {% endlanguage %}</p></br>
              <li>Date de début : &emsp;</li><p>{% language 'fr' %}
               {{ x.date_debut_contrat|date:'d F Y' }}
             {% endlanguage %}</p></br>
              <li>Date de fin : &emsp;</li><p>{% language 'fr' %}
                {{ x.date_fin_contrat|date:'d F Y' }}
             {% endlanguage %}</p></br>
             <li>Date de fin de la phase recherche : &emsp;</li><p>{% language 'fr' %}
              {{ x.date_fin_recherche|date:'d F Y' }}
           {% endlanguage %}</p></br>
           <li>Date de début de la phase exploitation : &emsp;</li><p>{% language 'fr' %}
            {{ x.date_debut_exploitation|date:'d F Y' }}
         {% endlanguage %}</p></br>
              <li>Financement Sonatrach: &emsp;</li> <p>{{x.financement_SH}}</p></br>
              <li>Phase actuelle: &emsp;</li> <p>{{x.phase_contrat}}</p></br>
              <li>Opérateur: &emsp;</li> <p>{{x.nom_op}}</p></br>
              <li>Périmetre: &emsp;</li><p>{{x.nom_perimetre}}</p></br>
             
                <a href="{{ x.contrat_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                  consulter  <i class="bx bx-show view"></i>  </a>
                <br></br>
                 <h6 > Les documents contractuels</h6>
                   <li class="titre"> Avenants: &emsp;</li></br>
                   {% for y in av %}
                     <p>- {{y.code}}</p><a href="{{ y.doc_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                       consulter  <i class="bx bx-show view"></i>  </a></br>
                   {% endfor %}
                   <li class="titre"> Accords: &emsp;</li></br>
                   {% for y in ac %}
                     <p>- {{y.code}}</p><a href="{{ y.doc_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                       consulter  <i class="bx bx-show view"></i>  </a></br>
                   {% endfor %}
                   <li class="titre"> Accords d'operation: &emsp;</li></br>
                   {% for y in acop %}
                     <p>- {{y.code}}</p><a href="{{ y.doc_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                       consulter  <i class="bx bx-show view"></i></a></br>
                   {% endfor %}
                   <li class="titre"> Lettres accord: &emsp;</li></br>
                   {% for y in la %}
                     <p>- {{y.code}}</p><a href="{{ y.doc_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                       consulter  <i class="bx bx-show view"></i> </a></br>
                   {% endfor %}
                   <li class="titre"> Conventions de detachement: &emsp;</li></br>
                   {% for y in cov %}
                     <p>- {{y.code}}</p><a href="{{ y.doc_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                      consulter  <i class="bx bx-show view"></i> </a></br>
                   {% endfor %}
                   <h6 >Les documents associés </h6>
                   <li class="titre"> Points de situation: &emsp;</li></br>
                   {% for y in pds %}
                     <p>- {{y.code}}</p><a href="{{ y.pds_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                     consulter  <i class="bx bx-show view"></i> </a></br>
                   {% endfor %}
                   <li class="titre"> Avis juridiques: &emsp;</li></br>
                   {% for y in aj %}
                     <p>- {{y.code}}</p><a href="{{ y.avis_pdf.url }}" class="btn btn-primary btn-sm" target="_blank">
                       consulter  <i class="bx bx-show view"></i> </a></br>
                   {% endfor %}
     

  </div>
  </div>

  

<!-- partial -->
    <script src={% static 'js/script.js' %}></script>
    <script src={% static 'js/media.js' %}></script>
    <script src={% static 'js/toggle.js' %}></script>

    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <script>
    var td = document.querySelectorAll('td:first-child')
    var update = document.querySelectorAll('.update')
    var del = document.querySelectorAll('.del')
    
 
var datede =document.getElementById('id_date_decret');
var datedes =document.getElementById('dates');
var datedeb =document.getElementById('id_date_debut_contrat');
var datepod=document.getElementById('id_date_debut_contrat');
var datefinrech =document.getElementById('id_date_fin_recherche');
var datedebexp =document.getElementById('id_date_debut_exploitation');
var datefin=document.getElementById('id_date_fin_contrat');

var formcontrat = document.querySelector(".ceform")





    
    window.addEventListener("load", function(){
 
    for(var i=0; i<update.length;i++)
    {
    update[i].href="http://127.0.0.1:8000/update_contrat/"+ td[i].innerHTML +"/#demo"

    del[i].addEventListener("click", function(){
      for(var i=0; i<del.length;i++)
      {
        var x=td[i].innerHTML
       
        Swal.fire({
          "title":"Êtes-vous sûr?",
          "text":"Vous ne pourrez pas revenir en arrière !",
          "icon":"question",
          "showCancelButton":true,
          "cancelButtonText":"Non, Annuler",
          "confirmButtonText":"Oui, Supprimer",
          "reverseButtons":true,
          "confirmButtonColor":"darkred",
        })
        .then(function(result) {
          if(result.isConfirmed) {
            window.location.href = "http://127.0.0.1:8000/delete_contrat/"+ x +"/"
          }
        })
      }
    })
    }
    })



var msg = document.querySelector('.msg')

/*-----------------------------------------*/
formcontrat.addEventListener('submit', function (e){
                //Si le champ est vide
                var stringg = ""
                if (datede.value < datedes.value){
                     e.preventDefault()
                     datede.style.border='3px solid red'
                     datedes.style.border='3px solid red'
                stringg = stringg +  "La date du décret doit être antérieure à la date de signature <br>" 
            }
            if (datedes.value < datedeb.value){
                     e.preventDefault()
                     
                     datedeb.style.border='3px solid red'
                     datedes.style.border='3px solid red'
                     
                           stringg = stringg +"La date de signature  doit être antérieure à la date de début <br>"
                    }
            if (datepod.value  > datefinrech.value){
                     e.preventDefault()
                   
                     datefinrech.style.border='3px solid red'
                     datepod.style.border='3px solid red'
                     stringg = stringg + " La date d'approbation du pod doit être superieure à la date de fin de la recherche <br>"

            }
            if (datedes.value < datefinrech.value){
                     e.preventDefault()
                     datefinrech.style.border='3px solid red'
                     datedes.style.border='3px solid red'
                     stringg = stringg + "La date de signature doit être antérieure à la date de fin de la recherche <br>"
            }
            if (datedebexp.value < datefinrech.value){
                     e.preventDefault()
                     datefinrech.style.border='3px solid red'
                     datedebexp.style.border='3px solid red'
                    stringg = stringg + "La date de fin de la recherche  doit être antérieure à la date de debut de l'exploitation <br>"
            }

            if (datedebexp.value  > datefin.value){
                     e.preventDefault()
                     datefin.style.border='3px solid red'
                     datedebexp.style.border='3px solid red'
                     stringg = stringg + "La date de fin du contrat doit être supérieure à la date de debut de l'exploitation <br>"
            }
              msg.innerHTML=stringg
          
          }
            
           
)
    </script>


</body>
</html>

